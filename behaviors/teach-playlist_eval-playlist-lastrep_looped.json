{
    "initial_state": "looking_for_peers",
    "state": "looking_for_peers",
    "prev_state": null,
    "limbo_state": null,
    "state_actions": {
        "looking_for_peers": [null, null, 7],
        "looking_for_students": ["find_agents", {"role": "<role_to_connect>"}, 0],
        "student_found": [null, null, 1, 5.0],
        "student_engaged": [null, null, 2, 5.0],
        "teaching_time": [null, null, 3],
        "lecture_in_progress": [null, null, 4],
        "student_finished_following": [null, null, 5, 1.0],
        "change_lecture": ["next_pref_stream", {}, 6],
        "exam_time": [null, null, 8],
        "exam_in_progress": [null, null, 9],
        "student_finished_exam": [null, null, 10, 5.0],
        "eval_time": ["evaluate", {"stream_hash": "<playlist>", "how": "mse", "steps": "<eval_steps>"}, 11],
        "bad": [null, null, 12],
        "good": ["next_pref_stream", {}, 13]
    },
    "transitions": {
        "looking_for_peers": {
            "looking_for_students": [["connect_by_role", {"role": "<role_to_connect>"}, true, 11]]
        },
        "looking_for_students": {
            "student_found": [["send_engagement", {}, true, 0]],
            "looking_for_peers": [["nop", {}, true, 21]]
        },
        "student_found": {
            "looking_for_students": [["nop", {}, true, 1]],
            "student_engaged": [["got_engagement", {}, false, 2]]
        },
        "student_engaged": {
            "student_engaged": [["got_engagement", {}, false, 3]],
            "teaching_time": [["nop", {}, true, 4]]
        },
        "teaching_time": {
            "lecture_in_progress": [["ask_learn", {"u_hashes": ["<playlist>"], "yhat_hashes": ["<playlist>"], "samples": "<learn_steps>", "timeout": 60.0}, true, 5]]
        },
        "lecture_in_progress": {
            "student_finished_following": [["done_learn", {}, false, 6]]
        },
        "student_finished_following": {
            "student_finished_following": [["done_learn", {}, false, 7]],
            "change_lecture": [["nop", {}, true, 8]]
        },
        "change_lecture": {
            "teaching_time": [["check_pref_stream", {"what": "not_last_round"}, true, 9]],
            "exam_time": [["check_pref_stream", {"what": "last_round"}, true, 10]]
        },
        "exam_time": {
            "exam_in_progress": [["ask_gen", {"u_hashes": ["<playlist>"], "samples": "<eval_steps>", "timeout":  5.0}, true, 12]]
        },
        "exam_in_progress": {
            "student_finished_exam": [["done_gen", {}, false, 13]]
        },
        "student_finished_exam": {
            "student_finished_exam": [["done_gen", {}, false, 14]],
            "eval_time": [["nop", {}, true, 10]]
        },
        "eval_time": {
            "good": [["compare_eval", {"cmp": "<=", "thres": "<cmp_thres>"}, true, 16]],
            "bad": [["nop", {"message": "The evaluation was not passed"}, true, 17]]
        },
        "good": {
            "exam_time": [["check_pref_stream", {"what": "not_first"}, true, 18]],
            "finished_work": [["check_pref_stream", {"what": "first"}, true, 19]]
        },
        "bad": {
            "teaching_time": [["first_pref_stream", {}, true, 20]]
        }
    },
    "cur_action": null
}